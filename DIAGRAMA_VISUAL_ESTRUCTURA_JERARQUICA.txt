# ðŸŽ¨ DIAGRAMA VISUAL: Sistema de Estructura JerÃ¡rquica

## ðŸ“Š Ãrbol de Estructura General

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TIENDA ONLINE UBATECH                            â”‚
â”‚                   (Base de Datos Firestore)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚               â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  CATEGORÃAS    â”‚ â”‚SUBCATEGORÃASâ”‚ â”‚  PRODUCTOS  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚                â”‚
                â”œâ”€ Celulares     â”œâ”€ Samsung       â”œâ”€ Galaxy A13
                â”œâ”€ ElectrÃ³nica   â”œâ”€ Redmi         â”œâ”€ NOTE14PRO+
                â”œâ”€ Ropa          â”œâ”€ iPhone        â”œâ”€ Galaxy S23
                â””â”€ Hogar         â”œâ”€ Toshiba       â”œâ”€ iPhone 15
                                 â””â”€ Otro          â””â”€ Camiseta
```

---

## ðŸ”— Relaciones 1:N (Uno a Muchos)

```
CATEGORÃA "CELULARES"
            â”‚
            â”œâ”€â”€â”€ SUBCATEGORÃA "SAMSUNG"
            â”‚         â”‚
            â”‚         â”œâ”€â”€â”€ PRODUCTO "Galaxy A13"
            â”‚         â””â”€â”€â”€ PRODUCTO "Galaxy S23"
            â”‚
            â”œâ”€â”€â”€ SUBCATEGORÃA "REDMI"
            â”‚         â”‚
            â”‚         â”œâ”€â”€â”€ PRODUCTO "NOTE14PRO+"
            â”‚         â””â”€â”€â”€ PRODUCTO "Note 13"
            â”‚
            â”œâ”€â”€â”€ SUBCATEGORÃA "IPHONE"
            â”‚         â”‚
            â”‚         â””â”€â”€â”€ PRODUCTO "iPhone 15 Pro"
            â”‚
            â””â”€â”€â”€ PRODUCTOS SIN SUBCATEGORÃA
                  â”‚
                  â””â”€â”€â”€ PRODUCTO "Accesorio GenÃ©rico"
```

---

## ðŸ“² Flujo de CreaciÃ³n de Producto

```
PASO 1: ADMIN INICIA CREACIÃ“N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NUEVO PRODUCTO           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nombre: [  ]             â”‚
â”‚ CategorÃ­a: [SELECT]  â–¼   â”‚
â”‚ SubcategorÃ­a: [  ]       â”‚
â”‚ Precio: [  ]             â”‚
â”‚ Stock: [  ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
PASO 2: SELECCIONA CATEGORÃA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CategorÃ­a: â–¼             â”‚
â”‚ â”œâ”€ Celulares    â—„â”€â”€ CLICâ”‚
â”‚ â”œâ”€ ElectrÃ³nica          â”‚
â”‚ â”œâ”€ Ropa                  â”‚
â”‚ â””â”€ Hogar                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼ Sistema carga subcategorÃ­as
PASO 3: SISTEMA CARGA SUBCATEGORÃAS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… CategorÃ­a: Celulares  â”‚
â”‚ SubcategorÃ­a: â–¼          â”‚
â”‚ â”œâ”€ Samsung      â—„â”€â”€ CLICâ”‚
â”‚ â”œâ”€ Redmi                 â”‚
â”‚ â”œâ”€ iPhone                â”‚
â”‚ â””â”€ Otro                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
PASO 4: SISTEMA VALIDA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â¿Redmi pertenece a       â”‚
â”‚  Celulares?              â”‚
â”‚                          â”‚
â”‚ âœ… SÃ â†’ Validado        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
PASO 5: GUARDAR
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… Producto guardado:    â”‚
â”‚ - Name: NOTE14PRO+       â”‚
â”‚ - Category: Celulares    â”‚
â”‚ - Subcategory: sub_redmi â”‚
â”‚ - Price: $1.560.000      â”‚
â”‚ - Stock: 1               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
RESULTADO EN TIENDA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CELULARES                â”‚
â”‚ â”œâ”€ Filtro: Redmi âœ“      â”‚
â”‚ â””â”€ NOTE14PRO+            â”‚
â”‚    $1.560.000 | Stock: 1 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš« Validaciones en Tiempo Real

```
VALIDACIÃ“N 1: SubcategorÃ­a en otra categorÃ­a
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin selecciona:                       â”‚
â”‚ CategorÃ­a: Celulares                    â”‚
â”‚ SubcategorÃ­a: Camiseta (âŒ de Ropa)     â”‚
â”‚                                         â”‚
â”‚ Sistema valida:                         â”‚
â”‚ Â¿Camiseta pertenece a Celulares? NO âŒ â”‚
â”‚                                         â”‚
â”‚ âŒ ERROR: "SubcategorÃ­a no pertenece    â”‚
â”‚           a esta categorÃ­a"             â”‚
â”‚                                         â”‚
â”‚ AcciÃ³n: Reselecciona subcategorÃ­a      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VALIDACIÃ“N 2: Eliminar categorÃ­a con productos
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin intenta: Eliminar "Celulares"     â”‚
â”‚                                         â”‚
â”‚ Sistema verifica:                       â”‚
â”‚ Â¿Hay productos en Celulares?            â”‚
â”‚ SÃ­, hay 40 productos âŒ                 â”‚
â”‚                                         â”‚
â”‚ âŒ ERROR: "No se puede eliminar,        â”‚
â”‚           tiene 40 productos"           â”‚
â”‚                                         â”‚
â”‚ AcciÃ³n: Primero reasigna productos      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VALIDACIÃ“N 3: Eliminar subcategorÃ­a con productos
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin intenta: Eliminar "Samsung"       â”‚
â”‚                                         â”‚
â”‚ Sistema verifica:                       â”‚
â”‚ Â¿Hay productos con Samsung?             â”‚
â”‚ SÃ­, hay 5 productos âŒ                  â”‚
â”‚                                         â”‚
â”‚ âŒ ERROR: "No se puede eliminar,        â”‚
â”‚           tiene 5 productos"            â”‚
â”‚                                         â”‚
â”‚ AcciÃ³n: Primero reasigna productos      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¯ Vista del Cliente - MenÃº Lateral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UBATECH - Tienda Online                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ CATEGORÃAS: [Celulares] [ElectrÃ³nica] [Ropa]            â”‚
â”‚                                                          â”‚
â”‚ â”Œâ”€ CELULARES â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ FILTRAR POR:     â”‚ ðŸ“± Productos (40)              â”‚  â”‚
â”‚ â”‚                  â”‚                                 â”‚  â”‚
â”‚ â”‚ â˜‘ Samsung (5)    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚ â”‚ â˜‘ Redmi (8)      â”‚ â”‚ Galaxy A13                   â”‚ â”‚  â”‚
â”‚ â”‚ â˜‘ iPhone (6)     â”‚ â”‚ $299.99 | Stock: 50          â”‚ â”‚  â”‚
â”‚ â”‚ â˜‘ Toshiba (3)    â”‚ â”‚ [ðŸ–¼ Imagen] [+Carrito]       â”‚ â”‚  â”‚
â”‚ â”‚ â˜‘ Otro (18)      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚ â”‚                  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚ â”‚ [Aplicar Filtro] â”‚ â”‚ NOTE14PRO+ (Redmi)          â”‚ â”‚  â”‚
â”‚ â”‚ [Limpiar]        â”‚ â”‚ $1.560.000 | Stock: 1        â”‚ â”‚  â”‚
â”‚ â”‚                  â”‚ â”‚ [ðŸ–¼ Imagen] [+Carrito]       â”‚ â”‚  â”‚
â”‚ â”‚                  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚ â”‚                  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚ â”‚                  â”‚ â”‚ Galaxy S23 (Samsung)        â”‚ â”‚  â”‚
â”‚ â”‚                  â”‚ â”‚ $1.099.99 | Stock: 12        â”‚ â”‚  â”‚
â”‚ â”‚                  â”‚ â”‚ [ðŸ–¼ Imagen] [+Carrito]       â”‚ â”‚  â”‚
â”‚ â”‚                  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚ â”‚                  â”‚                                 â”‚  â”‚
â”‚ â”‚                  â”‚ [Ver mÃ¡s...]                   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Flujo de Filtrado

```
USUARIO SELECCIONA "REDMI"
        â”‚
        â–¼
MENÃš LATERAL: â˜‘ Redmi
        â”‚
        â–¼
CARGAR PRODUCTOS DONDE:
â”œâ”€ category = "Celulares"
â””â”€ subcategory = "sub_redmi_001"
        â”‚
        â–¼
MOSTRAR SOLO:
â”œâ”€ NOTE14PRO+
â”œâ”€ Note 13
â”œâ”€ Note 12
â””â”€ Note 11 Pro
        â”‚
        â–¼
URL: /store?category=celulares&subcategory=sub_redmi_001
```

---

## ðŸ“Š Estructura de Datos en Firestore

```
â”Œâ”€ collections/
â”‚  â”‚
â”‚  â”œâ”€ categories/
â”‚  â”‚  â”œâ”€ cat_001: { id: "cat_001", name: "Celulares" }
â”‚  â”‚  â”œâ”€ cat_002: { id: "cat_002", name: "ElectrÃ³nica" }
â”‚  â”‚  â””â”€ cat_003: { id: "cat_003", name: "Ropa" }
â”‚  â”‚
â”‚  â”œâ”€ subcategories/
â”‚  â”‚  â”œâ”€ sub_001: { id: "sub_001", name: "Samsung", categoryId: "cat_001" }
â”‚  â”‚  â”œâ”€ sub_002: { id: "sub_002", name: "Redmi", categoryId: "cat_001" }
â”‚  â”‚  â”œâ”€ sub_003: { id: "sub_003", name: "iPhone", categoryId: "cat_001" }
â”‚  â”‚  â””â”€ sub_004: { id: "sub_004", name: "Sony", categoryId: "cat_002" }
â”‚  â”‚
â”‚  â””â”€ products/
â”‚     â”œâ”€ prod_001: {
â”‚     â”‚   id: "prod_001",
â”‚     â”‚   name: "NOTE14PRO+",
â”‚     â”‚   category: "Celulares",
â”‚     â”‚   subcategory: "sub_002",  â† Redmi
â”‚     â”‚   price: 1560000,
â”‚     â”‚   stock: 1
â”‚     â”‚ }
â”‚     â”œâ”€ prod_002: {
â”‚     â”‚   id: "prod_002",
â”‚     â”‚   name: "Galaxy A13",
â”‚     â”‚   category: "Celulares",
â”‚     â”‚   subcategory: "sub_001",  â† Samsung
â”‚     â”‚   price: 299.99,
â”‚     â”‚   stock: 50
â”‚     â”‚ }
â”‚     â””â”€ prod_003: {
â”‚         id: "prod_003",
â”‚         name: "Accesorio GenÃ©rico",
â”‚         category: "Celulares",
â”‚         subcategory: "",         â† Sin subcategorÃ­a
â”‚         price: 49.99,
â”‚         stock: 100
â”‚       }
â”‚
â””â”€ (otros)
```

---

## âœ¨ Ejemplo Completo: VisiÃ³n 360Â°

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          CREACIÃ“N Y VISUALIZACIÃ“N DE PRODUCTO               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£  ADMIN CREA PRODUCTO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Formulario:                        â”‚
â”‚ Name: NOTE14PRO+                   â”‚
â”‚ Category: Celulares (cat_001)      â”‚
â”‚ Subcategory: Redmi (sub_002)       â”‚
â”‚ Price: 1560000                     â”‚
â”‚ Stock: 1                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ validateProductHierarchy()
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validaciones:                      â”‚
â”‚ âœ… Celulares existe                â”‚
â”‚ âœ… Redmi existe                    â”‚
â”‚ âœ… Redmi.categoryId = cat_001      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ Guardar en Firestore
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Firestore Rules:                   â”‚
â”‚ âœ… Usuario es admin                â”‚
â”‚ âœ… validateProductStructure()      â”‚
â”‚ âœ… Guardar exitoso                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2ï¸âƒ£  USUARIO ACCEDE A TIENDA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PÃ¡gina: app/page.tsx               â”‚
â”‚ Carga:                             â”‚
â”‚ - CategorÃ­as [Celulares, ...]      â”‚
â”‚ - SubcategorÃ­as por categorÃ­a      â”‚
â”‚ - Productos                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ Selecciona "Celulares"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Vista:                             â”‚
â”‚ CategorÃ­a: CELULARES               â”‚
â”‚ MenÃº: [Samsung][Redmi][iPhone]...  â”‚
â”‚ Productos: 40 totales              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ Filtra por "Redmi"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filtrados:                         â”‚
â”‚ Query: products WHERE               â”‚
â”‚   category = "Celulares"           â”‚
â”‚   subcategory = "sub_002"          â”‚
â”‚ Resultados: 8 productos            â”‚
â”‚ - NOTE14PRO+  âœ…                   â”‚
â”‚ - Note 13                          â”‚
â”‚ - Note 12                          â”‚
â”‚ - ...                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ Usuario ve resultado
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CELULARES > REDMI                  â”‚
â”‚                                    â”‚
â”‚ ðŸ“± NOTE14PRO+                      â”‚
â”‚    Price: $1.560.000               â”‚
â”‚    Stock: 1                        â”‚
â”‚    [Imagen] [+ Agregar Carrito]    â”‚
â”‚                                    â”‚
â”‚ ðŸ“± Note 13                         â”‚
â”‚ ...                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”— Referencia de Documentos

```
Estructura:
â”œâ”€ NORMA_ESTRUCTURA_JERARQUICA.md (Completo)
â”œâ”€ GUIA_VISUAL_ESTRUCTURA_JERARQUICA.md (GrÃ¡ficas)
â”œâ”€ DIAGRAMA_VISUAL_ESTRUCTURA_JERARQUICA.txt (Este)
â”œâ”€ REFERENCIA_RAPIDA_ESTRUCTURA_JERARQUICA.txt (Quick ref)
â”œâ”€ FIRESTORE_RULES_CORRECTAS.txt (Rules)
â””â”€ lib/subcategories.ts (CÃ³digo)
```

---

**Ãšltima actualizaciÃ³n:** 2025-12-10  
**VersiÃ³n:** 1.0
