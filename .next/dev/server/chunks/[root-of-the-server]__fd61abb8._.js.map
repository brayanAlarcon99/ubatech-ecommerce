{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\"\nimport { getFirestore } from \"firebase/firestore\"\nimport type { FirebaseApp } from \"firebase/app\"\nimport type { Firestore } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB6Yczsu4sF8cjD4H1Jz2KU4TO9f0biCoQ\",\n  authDomain: \"ubatech-a8650.firebaseapp.com\",\n  projectId: \"ubatech-a8650\",\n  storageBucket: \"ubatech-a8650.firebasestorage.app\",\n  messagingSenderId: \"609393850830\",\n  appId: \"1:609393850830:web:567d90bdc33dd65fe2d39f\",\n  measurementId: \"G-G2DW96480G\",\n}\n\nlet app: FirebaseApp = (getApps().length === 0 ? initializeApp(firebaseConfig) : getApp())\nlet db: Firestore | null = null\n\ntry {\n  if (getApps().length === 0) {\n    app = initializeApp(firebaseConfig)\n  } else {\n    app = getApp()\n  }\n\n  const initFirestore = () => {\n    try {\n      db = getFirestore(app)\n      console.log(\"[v0] Firestore initialized successfully\")\n      return db\n    } catch (error) {\n      console.warn(\"[v0] Firestore not ready yet, will retry on access\")\n      return null\n    }\n  }\n\n  db = initFirestore()\n} catch (error) {\n  console.error(\"[v0] Firebase initialization error:\", error)\n}\n\nexport const getDb = () => {\n  if (!db) {\n    try {\n      db = getFirestore(getApp())\n    } catch (error) {\n      console.error(\"[v0] Failed to get Firestore instance:\", error)\n      throw new Error(\"Firestore is not available. Please ensure Firestore Database is created in Firebase Console.\")\n    }\n  }\n  return db\n}\n\nexport { app }\nexport default db\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;;;AAIA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,IAAI,MAAoB,IAAA,iLAAO,IAAG,MAAM,KAAK,IAAI,IAAA,uLAAa,EAAC,kBAAkB,IAAA,gLAAM;AACvF,IAAI,KAAuB;AAE3B,IAAI;IACF,IAAI,IAAA,iLAAO,IAAG,MAAM,KAAK,GAAG;QAC1B,MAAM,IAAA,uLAAa,EAAC;IACtB,OAAO;QACL,MAAM,IAAA,gLAAM;IACd;IAEA,MAAM,gBAAgB;QACpB,IAAI;YACF,KAAK,IAAA,mLAAY,EAAC;YAClB,QAAQ,GAAG,CAAC;YACZ,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;IACF;IAEA,KAAK;AACP,EAAE,OAAO,OAAO;IACd,QAAQ,KAAK,CAAC,uCAAuC;AACvD;AAEO,MAAM,QAAQ;IACnB,IAAI,CAAC,IAAI;QACP,IAAI;YACF,KAAK,IAAA,mLAAY,EAAC,IAAA,gLAAM;QAC1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0CAA0C;YACxD,MAAM,IAAI,MAAM;QAClB;IACF;IACA,OAAO;AACT;;uCAGe","debugId":null}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/app/api/settings/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport { getDb } from \"@/lib/firebase\"\r\nimport { doc, getDoc } from \"firebase/firestore\"\r\n\r\nconst SETTINGS_COLLECTION = \"store_settings\"\r\nconst SETTINGS_DOC = \"store_settings\"\r\n\r\nconst DEFAULT_RESPONSE = {\r\n  storeName: \"Ubatech+Pro\",\r\n  storeEmail: \"info@ubatech.com\",\r\n  storePhone: \"573134588107\",\r\n  storeWhatsApp: \"573134588107\",\r\n  storeAddress: \"ubaté, colombia\",\r\n  storeHours: \"Lunes - Viernes: 8am - 6pm\",\r\n  description: \"Plataforma de compras online\",\r\n}\r\n\r\nconst CACHE_HEADERS = {\r\n  \"Cache-Control\": \"no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0\",\r\n  \"Content-Type\": \"application/json\",\r\n  \"Pragma\": \"no-cache\",\r\n  \"Expires\": \"0\",\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    let db\r\n    try {\r\n      db = getDb()\r\n    } catch (dbError) {\r\n      console.error(\"[API Settings] Firestore not available:\", dbError)\r\n      // Return default settings if Firestore is not available\r\n      return NextResponse.json(DEFAULT_RESPONSE, {\r\n        status: 200,\r\n        headers: CACHE_HEADERS,\r\n      })\r\n    }\r\n\r\n    // Obtener el documento \"store_settings\" de la colección \"store_settings\"\r\n    const docRef = doc(db, SETTINGS_COLLECTION, SETTINGS_DOC)\r\n    const docSnapshot = await getDoc(docRef)\r\n\r\n    if (docSnapshot.exists()) {\r\n      const data = docSnapshot.data()\r\n      \r\n      return NextResponse.json(data, {\r\n        headers: CACHE_HEADERS,\r\n      })\r\n    } else {\r\n      // Retornar valores por defecto si no existe\r\n      return NextResponse.json(DEFAULT_RESPONSE, {\r\n        status: 200,\r\n        headers: CACHE_HEADERS,\r\n      })\r\n    }\r\n  } catch (error) {\r\n    console.error(\"[API Settings] Error fetching settings:\", error)\r\n    \r\n    // Retornar valores por defecto en caso de error\r\n    return NextResponse.json(DEFAULT_RESPONSE, {\r\n      status: 200,\r\n      headers: CACHE_HEADERS,\r\n    })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;AAEA,MAAM,sBAAsB;AAC5B,MAAM,eAAe;AAErB,MAAM,mBAAmB;IACvB,WAAW;IACX,YAAY;IACZ,YAAY;IACZ,eAAe;IACf,cAAc;IACd,YAAY;IACZ,aAAa;AACf;AAEA,MAAM,gBAAgB;IACpB,iBAAiB;IACjB,gBAAgB;IAChB,UAAU;IACV,WAAW;AACb;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,IAAI;QACJ,IAAI;YACF,KAAK,IAAA,0HAAK;QACZ,EAAE,OAAO,SAAS;YAChB,QAAQ,KAAK,CAAC,2CAA2C;YACzD,wDAAwD;YACxD,OAAO,gJAAY,CAAC,IAAI,CAAC,kBAAkB;gBACzC,QAAQ;gBACR,SAAS;YACX;QACF;QAEA,yEAAyE;QACzE,MAAM,SAAS,IAAA,0KAAG,EAAC,IAAI,qBAAqB;QAC5C,MAAM,cAAc,MAAM,IAAA,6KAAM,EAAC;QAEjC,IAAI,YAAY,MAAM,IAAI;YACxB,MAAM,OAAO,YAAY,IAAI;YAE7B,OAAO,gJAAY,CAAC,IAAI,CAAC,MAAM;gBAC7B,SAAS;YACX;QACF,OAAO;YACL,4CAA4C;YAC5C,OAAO,gJAAY,CAAC,IAAI,CAAC,kBAAkB;gBACzC,QAAQ;gBACR,SAAS;YACX;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2CAA2C;QAEzD,gDAAgD;QAChD,OAAO,gJAAY,CAAC,IAAI,CAAC,kBAAkB;YACzC,QAAQ;YACR,SAAS;QACX;IACF;AACF","debugId":null}}]
}