{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\"\nimport { getFirestore } from \"firebase/firestore\"\nimport type { FirebaseApp } from \"firebase/app\"\nimport type { Firestore } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyB6Yczsu4sF8cjD4H1Jz2KU4TO9f0biCoQ\",\n  authDomain: \"ubatech-a8650.firebaseapp.com\",\n  projectId: \"ubatech-a8650\",\n  storageBucket: \"ubatech-a8650.firebasestorage.app\",\n  messagingSenderId: \"609393850830\",\n  appId: \"1:609393850830:web:567d90bdc33dd65fe2d39f\",\n  measurementId: \"G-G2DW96480G\",\n}\n\nlet app: FirebaseApp = (getApps().length === 0 ? initializeApp(firebaseConfig) : getApp())\nlet db: Firestore | null = null\n\ntry {\n  if (getApps().length === 0) {\n    app = initializeApp(firebaseConfig)\n  } else {\n    app = getApp()\n  }\n\n  const initFirestore = () => {\n    try {\n      db = getFirestore(app)\n      console.log(\"[v0] Firestore initialized successfully\")\n      return db\n    } catch (error) {\n      console.warn(\"[v0] Firestore not ready yet, will retry on access\")\n      return null\n    }\n  }\n\n  db = initFirestore()\n} catch (error) {\n  console.error(\"[v0] Firebase initialization error:\", error)\n}\n\nexport const getDb = () => {\n  if (!db) {\n    try {\n      db = getFirestore(getApp())\n    } catch (error) {\n      console.error(\"[v0] Failed to get Firestore instance:\", error)\n      throw new Error(\"Firestore is not available. Please ensure Firestore Database is created in Firebase Console.\")\n    }\n  }\n  return db\n}\n\nexport { app }\nexport default db\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;;;AAIA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,IAAI,MAAoB,IAAA,kLAAO,IAAG,MAAM,KAAK,IAAI,IAAA,wLAAa,EAAC,kBAAkB,IAAA,iLAAM;AACvF,IAAI,KAAuB;AAE3B,IAAI;IACF,IAAI,IAAA,kLAAO,IAAG,MAAM,KAAK,GAAG;QAC1B,MAAM,IAAA,wLAAa,EAAC;IACtB,OAAO;QACL,MAAM,IAAA,iLAAM;IACd;IAEA,MAAM,gBAAgB;QACpB,IAAI;YACF,KAAK,IAAA,sLAAY,EAAC;YAClB,QAAQ,GAAG,CAAC;YACZ,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,IAAI,CAAC;YACb,OAAO;QACT;IACF;IAEA,KAAK;AACP,EAAE,OAAO,OAAO;IACd,QAAQ,KAAK,CAAC,uCAAuC;AACvD;AAEO,MAAM,QAAQ;IACnB,IAAI,CAAC,IAAI;QACP,IAAI;YACF,KAAK,IAAA,sLAAY,EAAC,IAAA,iLAAM;QAC1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0CAA0C;YACxD,MAAM,IAAI,MAAM;QAClB;IACF;IACA,OAAO;AACT;;uCAGe","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/hooks/use-store-settings.ts"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\"\r\nimport { getDb } from \"@/lib/firebase\"\r\nimport { doc, onSnapshot } from \"firebase/firestore\"\r\n\r\nexport interface StoreSettings {\r\n  storeName: string\r\n  storeEmail: string\r\n  storePhone: string\r\n  storeAddress: string\r\n  storeHours: string\r\n  description: string\r\n  updatedAt?: string\r\n  error?: string\r\n}\r\n\r\nconst DEFAULT_SETTINGS: StoreSettings = {\r\n  storeName: \"Ubatech+Pro\",\r\n  storeEmail: \"info@ubatech.com\",\r\n  storePhone: \"+57 3134588107\",\r\n  storeAddress: \"ubaté, colombia\",\r\n  storeHours: \"Lunes - Viernes: 8am - 6pm\",\r\n  description: \"Plataforma de compras online\",\r\n}\r\n\r\nexport function useStoreSettings() {\r\n  const [settings, setSettings] = useState<StoreSettings>(DEFAULT_SETTINGS)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const loadSettings = useCallback(async () => {\r\n    try {\r\n      setError(null)\r\n      \r\n      const db = getDb()\r\n      \r\n      // Usar onSnapshot para escuchar cambios en tiempo real\r\n      const unsubscribe = onSnapshot(\r\n        doc(db, \"store_settings\", \"store_settings\"),\r\n        (docSnapshot) => {\r\n          if (docSnapshot.exists()) {\r\n            const data = docSnapshot.data()\r\n            const newSettings: StoreSettings = {\r\n              storeName: data.storeName || DEFAULT_SETTINGS.storeName,\r\n              storeEmail: data.storeEmail || DEFAULT_SETTINGS.storeEmail,\r\n              storePhone: data.storePhone || DEFAULT_SETTINGS.storePhone,\r\n              storeAddress: data.storeAddress || DEFAULT_SETTINGS.storeAddress,\r\n              storeHours: data.storeHours || DEFAULT_SETTINGS.storeHours,\r\n              description: data.description || DEFAULT_SETTINGS.description,\r\n              updatedAt: data.updatedAt,\r\n            }\r\n            setSettings(newSettings)\r\n            console.log(\"[Hook] ✅ Store settings cargados desde Firestore en tiempo real\")\r\n          } else {\r\n            console.warn(\"[Hook] store_settings document no existe\")\r\n            setSettings(DEFAULT_SETTINGS)\r\n          }\r\n          setLoading(false)\r\n        },\r\n        (docError) => {\r\n          console.error(\"[Hook] Error escuchando store_settings:\", docError)\r\n          setError(docError.message)\r\n          setSettings(DEFAULT_SETTINGS)\r\n          setLoading(false)\r\n        }\r\n      )\r\n\r\n      // Retornar función para dejar de escuchar cuando el componente se desmonta\r\n      return unsubscribe\r\n    } catch (err) {\r\n      console.error(\"[Hook] Error en loadSettings:\", err)\r\n      setError(err instanceof Error ? err.message : \"Error desconocido\")\r\n      setSettings(DEFAULT_SETTINGS)\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    let unsubscribe: (() => void) | undefined\r\n\r\n    loadSettings().then((unsub) => {\r\n      unsubscribe = unsub\r\n    })\r\n\r\n    return () => {\r\n      if (unsubscribe) {\r\n        unsubscribe()\r\n      }\r\n    }\r\n  }, [loadSettings])\r\n\r\n  const reload = useCallback(async () => {\r\n    setLoading(true)\r\n    await loadSettings()\r\n  }, [loadSettings])\r\n\r\n  return { settings, loading, error, reload }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;;AAaA,MAAM,mBAAkC;IACtC,WAAW;IACX,YAAY;IACZ,YAAY;IACZ,cAAc;IACd,YAAY;IACZ,aAAa;AACf;AAEO,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,eAAe,IAAA,4KAAW;sDAAC;YAC/B,IAAI;gBACF,SAAS;gBAET,MAAM,KAAK,IAAA,2HAAK;gBAEhB,uDAAuD;gBACvD,MAAM,cAAc,IAAA,oLAAU,EAC5B,IAAA,6KAAG,EAAC,IAAI,kBAAkB;8EAC1B,CAAC;wBACC,IAAI,YAAY,MAAM,IAAI;4BACxB,MAAM,OAAO,YAAY,IAAI;4BAC7B,MAAM,cAA6B;gCACjC,WAAW,KAAK,SAAS,IAAI,iBAAiB,SAAS;gCACvD,YAAY,KAAK,UAAU,IAAI,iBAAiB,UAAU;gCAC1D,YAAY,KAAK,UAAU,IAAI,iBAAiB,UAAU;gCAC1D,cAAc,KAAK,YAAY,IAAI,iBAAiB,YAAY;gCAChE,YAAY,KAAK,UAAU,IAAI,iBAAiB,UAAU;gCAC1D,aAAa,KAAK,WAAW,IAAI,iBAAiB,WAAW;gCAC7D,WAAW,KAAK,SAAS;4BAC3B;4BACA,YAAY;4BACZ,QAAQ,GAAG,CAAC;wBACd,OAAO;4BACL,QAAQ,IAAI,CAAC;4BACb,YAAY;wBACd;wBACA,WAAW;oBACb;;8EACA,CAAC;wBACC,QAAQ,KAAK,CAAC,2CAA2C;wBACzD,SAAS,SAAS,OAAO;wBACzB,YAAY;wBACZ,WAAW;oBACb;;gBAGF,2EAA2E;gBAC3E,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAC9C,YAAY;gBACZ,WAAW;YACb;QACF;qDAAG,EAAE;IAEL,IAAA,0KAAS;sCAAC;YACR,IAAI;YAEJ,eAAe,IAAI;8CAAC,CAAC;oBACnB,cAAc;gBAChB;;YAEA;8CAAO;oBACL,IAAI,aAAa;wBACf;oBACF;gBACF;;QACF;qCAAG;QAAC;KAAa;IAEjB,MAAM,SAAS,IAAA,4KAAW;gDAAC;YACzB,WAAW;YACX,MAAM;QACR;+CAAG;QAAC;KAAa;IAEjB,OAAO;QAAE;QAAU;QAAS;QAAO;IAAO;AAC5C;GAxEgB","debugId":null}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/components/header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Image from \"next/image\"\r\nimport Link from \"next/link\"\r\nimport { ShoppingCart } from \"lucide-react\"\r\nimport { useCart } from \"@/lib/cart-context\"\r\nimport { useStoreSettings } from \"@/hooks/use-store-settings\"\r\nimport { useState, useEffect } from \"react\"\r\n\r\nexport default function Header() {\r\n  const { cart } = useCart()\r\n  const { settings } = useStoreSettings()\r\n  const cartItemsCount = cart.reduce((total, item) => total + item.quantity, 0)\r\n  const [isVisible, setIsVisible] = useState(true)\r\n  const [lastScrollY, setLastScrollY] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const currentScrollY = window.scrollY\r\n      \r\n      // Mostrar header si estamos en el top (primeros 10px)\r\n      if (currentScrollY < 10) {\r\n        setIsVisible(true)\r\n      } \r\n      // Ocultar header si scroll hacia abajo\r\n      else if (currentScrollY > lastScrollY) {\r\n        setIsVisible(false)\r\n      } \r\n      // Mostrar header si scroll hacia arriba\r\n      else if (currentScrollY < lastScrollY) {\r\n        setIsVisible(true)\r\n      }\r\n      \r\n      setLastScrollY(currentScrollY)\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", handleScroll)\r\n    return () => window.removeEventListener(\"scroll\", handleScroll)\r\n  }, [lastScrollY])\r\n\r\n  return (\r\n    <header \r\n      className=\"sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm transition-transform duration-300\"\r\n      style={{\r\n        transform: isVisible ? \"translateY(0)\" : \"translateY(-100%)\"\r\n      }}\r\n    >\r\n      <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\r\n        <Link href=\"/\" className=\"flex items-center gap-2\">\r\n          <Image src=\"/logo-ubatech.png\" alt={settings.storeName} width={40} height={40} className=\"object-contain\" />\r\n          <div className=\"hidden md:block\">\r\n            <h1 className=\"text-lg font-bold\" style={{ color: \"var(--primary-dark)\" }}>\r\n              {settings.storeName}\r\n            </h1>\r\n            <p className=\"text-xs\" style={{ color: \"var(--accent-turquoise)\" }}>\r\n              Confianza & Seguridad\r\n            </p>\r\n          </div>\r\n        </Link>\r\n\r\n        <Link\r\n          href=\"/carrito\"\r\n          className=\"relative flex items-center gap-2 p-2 rounded-lg transition-colors\"\r\n          style={{\r\n            backgroundColor: \"var(--accent-cyan)\",\r\n            color: \"white\",\r\n          }}\r\n        >\r\n          <ShoppingCart size={20} />\r\n          <span className=\"hidden md:inline\">Carrito</span>\r\n          {cartItemsCount > 0 && (\r\n            <span\r\n              className=\"absolute -top-2 -right-2 flex items-center justify-center w-6 h-6 text-xs font-bold text-white rounded-full\"\r\n              style={{ backgroundColor: \"var(--destructive)\" }}\r\n            >\r\n              {cartItemsCount}\r\n            </span>\r\n          )}\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO;IACxB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wJAAgB;IACrC,MAAM,iBAAiB,KAAK,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAC3E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,IAAA,0KAAS;4BAAC;YACR,MAAM;iDAAe;oBACnB,MAAM,iBAAiB,OAAO,OAAO;oBAErC,sDAAsD;oBACtD,IAAI,iBAAiB,IAAI;wBACvB,aAAa;oBACf,OAEK,IAAI,iBAAiB,aAAa;wBACrC,aAAa;oBACf,OAEK,IAAI,iBAAiB,aAAa;wBACrC,aAAa;oBACf;oBAEA,eAAe;gBACjB;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAClC;oCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;2BAAG;QAAC;KAAY;IAEhB,qBACE,6LAAC;QACC,WAAU;QACV,OAAO;YACL,WAAW,YAAY,kBAAkB;QAC3C;kBAEA,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0KAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACvB,6LAAC,2IAAK;4BAAC,KAAI;4BAAoB,KAAK,SAAS,SAAS;4BAAE,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;sCACzF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;oCAAoB,OAAO;wCAAE,OAAO;oCAAsB;8CACrE,SAAS,SAAS;;;;;;8CAErB,6LAAC;oCAAE,WAAU;oCAAU,OAAO;wCAAE,OAAO;oCAA0B;8CAAG;;;;;;;;;;;;;;;;;;8BAMxE,6LAAC,0KAAI;oBACH,MAAK;oBACL,WAAU;oBACV,OAAO;wBACL,iBAAiB;wBACjB,OAAO;oBACT;;sCAEA,6LAAC,0OAAY;4BAAC,MAAM;;;;;;sCACpB,6LAAC;4BAAK,WAAU;sCAAmB;;;;;;wBAClC,iBAAiB,mBAChB,6LAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,iBAAiB;4BAAqB;sCAE9C;;;;;;;;;;;;;;;;;;;;;;;AAOf;GAzEwB;;QACL,qIAAO;QACH,wJAAgB;;;KAFf","debugId":null}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/lib/format-price.ts"],"sourcesContent":["/**\r\n * Asegura que el precio sea un número válido\r\n * Si es string, intenta convertirlo, si no es válido retorna 0\r\n * Maneja correctamente: \"6000\", \"6.000\", \"1.234.567\", \"299.99\", etc.\r\n */\r\nexport function ensureNumberPrice(price: any): number {\r\n  if (typeof price === 'number') {\r\n    return Math.round(price * 100) / 100; // Redondea a 2 decimales\r\n  }\r\n  \r\n  if (typeof price === 'string') {\r\n    // Usar la misma lógica que sanitizePriceInput para consistencia\r\n    if (!price || price.trim() === '') {\r\n      return 0;\r\n    }\r\n    \r\n    let cleaned = price.trim();\r\n    \r\n    // Si contiene puntos, asumir que podrían ser separadores de miles\r\n    if (cleaned.includes('.')) {\r\n      const dotCount = (cleaned.match(/\\./g) || []).length;\r\n      \r\n      // Si hay múltiples puntos O un punto en los últimos 3 caracteres = separador de miles\r\n      if (dotCount > 1 || (dotCount === 1 && cleaned.lastIndexOf('.') > cleaned.length - 4)) {\r\n        cleaned = cleaned.replace(/\\./g, '');\r\n      } else {\r\n        // Un punto pero no al final = separador decimal\r\n        cleaned = cleaned.replace(',', '.');\r\n      }\r\n    }\r\n    \r\n    // Reemplazar coma por punto para decimales\r\n    cleaned = cleaned.replace(',', '.');\r\n    \r\n    // Asegurar que solo haya un punto decimal\r\n    const parts = cleaned.split('.');\r\n    if (parts.length > 2) {\r\n      cleaned = parts[0] + '.' + parts.slice(1).join('');\r\n    }\r\n    \r\n    const parsed = parseFloat(cleaned);\r\n    return isNaN(parsed) ? 0 : Math.round(parsed * 100) / 100;\r\n  }\r\n  \r\n  return 0;\r\n}\r\n\r\n/**\r\n * Formatea un precio para mostrar con separadores de miles (puntos)\r\n * Ejemplo: 3000 -> \"3.000\"\r\n *          1560000 -> \"1.560.000\"\r\n *          49.99 -> \"49.99\"\r\n */\r\nexport function formatPrice(price: number | string): string {\r\n  const numPrice = ensureNumberPrice(price);\r\n  \r\n  // Convertir a string y aplicar separadores de miles manualmente\r\n  const parts = numPrice.toString().split('.');\r\n  const integerPart = parts[0];\r\n  const decimalPart = parts[1];\r\n  \r\n  // Agregar puntos cada 3 dígitos en la parte entera (de derecha a izquierda)\r\n  const withSeparators = integerPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\r\n  \r\n  // Recombinar con la parte decimal si existe\r\n  return decimalPart ? `${withSeparators},${decimalPart}` : withSeparators;\r\n}\r\n\r\n/**\r\n * Formatea un precio con símbolo de moneda\r\n * Ejemplo: 3000 -> \"$3.000\"\r\n */\r\nexport function formatPriceWithCurrency(price: number | string, currency: string = \"$\"): string {\r\n  return `${currency}${formatPrice(price)}`;\r\n}\r\n\r\n/**\r\n * Sanitiza entrada de precio para evitar caracteres inválidos\r\n * Acepta tanto \"6000\" como \"6.000\" y convierte correctamente\r\n * Convierte \"1.234.567\" a \"1234567\" antes de guardar en BD\r\n */\r\nexport function sanitizePriceInput(priceString: string): number {\r\n  if (!priceString || priceString.trim() === '') {\r\n    return 0;\r\n  }\r\n  \r\n  // Eliminar espacios\r\n  let cleaned = priceString.trim();\r\n  \r\n  // Si contiene puntos, asumir que podrían ser separadores de miles\r\n  // Ejemplo: \"1.234.567\" o \"6.000\" \r\n  if (cleaned.includes('.')) {\r\n    // Contar los puntos\r\n    const dotCount = (cleaned.match(/\\./g) || []).length;\r\n    \r\n    // Si hay múltiples puntos, probablemente sean separadores de miles\r\n    if (dotCount > 1 || (dotCount === 1 && cleaned.lastIndexOf('.') > cleaned.length - 4)) {\r\n      // Múltiples puntos O un punto en los últimos 3 caracteres = separador de miles\r\n      cleaned = cleaned.replace(/\\./g, '');\r\n    } else {\r\n      // Un punto pero no al final = separador decimal, reemplazar coma si existe\r\n      cleaned = cleaned.replace(',', '.');\r\n    }\r\n  }\r\n  \r\n  // Reemplazar coma por punto para decimales\r\n  cleaned = cleaned.replace(',', '.');\r\n  \r\n  // Asegurar que solo haya un punto decimal\r\n  const parts = cleaned.split('.');\r\n  if (parts.length > 2) {\r\n    // Si hay múltiples puntos después del reemplazo, solo tomar la parte entera y la primera decimal\r\n    cleaned = parts[0] + '.' + parts.slice(1).join('');\r\n  }\r\n  \r\n  const parsed = parseFloat(cleaned);\r\n  return isNaN(parsed) ? 0 : Math.round(parsed * 100) / 100;\r\n}\r\n\r\n/**\r\n * Normaliza los precios de un producto cargado desde Firestore\r\n * Asegura que el precio sea siempre un número, no un string\r\n * @param product Producto desde Firestore (puede tener precio como string o número)\r\n * @returns Producto con precio garantizado como número\r\n */\r\nexport function normalizeProductPrice(product: any): any {\r\n  return {\r\n    ...product,\r\n    price: ensureNumberPrice(product.price)\r\n  };\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;;;AACM,SAAS,kBAAkB,KAAU;IAC1C,IAAI,OAAO,UAAU,UAAU;QAC7B,OAAO,KAAK,KAAK,CAAC,QAAQ,OAAO,KAAK,yBAAyB;IACjE;IAEA,IAAI,OAAO,UAAU,UAAU;QAC7B,gEAAgE;QAChE,IAAI,CAAC,SAAS,MAAM,IAAI,OAAO,IAAI;YACjC,OAAO;QACT;QAEA,IAAI,UAAU,MAAM,IAAI;QAExB,kEAAkE;QAClE,IAAI,QAAQ,QAAQ,CAAC,MAAM;YACzB,MAAM,WAAW,CAAC,QAAQ,KAAK,CAAC,UAAU,EAAE,EAAE,MAAM;YAEpD,sFAAsF;YACtF,IAAI,WAAW,KAAM,aAAa,KAAK,QAAQ,WAAW,CAAC,OAAO,QAAQ,MAAM,GAAG,GAAI;gBACrF,UAAU,QAAQ,OAAO,CAAC,OAAO;YACnC,OAAO;gBACL,gDAAgD;gBAChD,UAAU,QAAQ,OAAO,CAAC,KAAK;YACjC;QACF;QAEA,2CAA2C;QAC3C,UAAU,QAAQ,OAAO,CAAC,KAAK;QAE/B,0CAA0C;QAC1C,MAAM,QAAQ,QAAQ,KAAK,CAAC;QAC5B,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB,UAAU,KAAK,CAAC,EAAE,GAAG,MAAM,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;QACjD;QAEA,MAAM,SAAS,WAAW;QAC1B,OAAO,MAAM,UAAU,IAAI,KAAK,KAAK,CAAC,SAAS,OAAO;IACxD;IAEA,OAAO;AACT;AAQO,SAAS,YAAY,KAAsB;IAChD,MAAM,WAAW,kBAAkB;IAEnC,gEAAgE;IAChE,MAAM,QAAQ,SAAS,QAAQ,GAAG,KAAK,CAAC;IACxC,MAAM,cAAc,KAAK,CAAC,EAAE;IAC5B,MAAM,cAAc,KAAK,CAAC,EAAE;IAE5B,4EAA4E;IAC5E,MAAM,iBAAiB,YAAY,OAAO,CAAC,yBAAyB;IAEpE,4CAA4C;IAC5C,OAAO,cAAc,GAAG,eAAe,CAAC,EAAE,aAAa,GAAG;AAC5D;AAMO,SAAS,wBAAwB,KAAsB,EAAE,WAAmB,GAAG;IACpF,OAAO,GAAG,WAAW,YAAY,QAAQ;AAC3C;AAOO,SAAS,mBAAmB,WAAmB;IACpD,IAAI,CAAC,eAAe,YAAY,IAAI,OAAO,IAAI;QAC7C,OAAO;IACT;IAEA,oBAAoB;IACpB,IAAI,UAAU,YAAY,IAAI;IAE9B,kEAAkE;IAClE,kCAAkC;IAClC,IAAI,QAAQ,QAAQ,CAAC,MAAM;QACzB,oBAAoB;QACpB,MAAM,WAAW,CAAC,QAAQ,KAAK,CAAC,UAAU,EAAE,EAAE,MAAM;QAEpD,mEAAmE;QACnE,IAAI,WAAW,KAAM,aAAa,KAAK,QAAQ,WAAW,CAAC,OAAO,QAAQ,MAAM,GAAG,GAAI;YACrF,+EAA+E;YAC/E,UAAU,QAAQ,OAAO,CAAC,OAAO;QACnC,OAAO;YACL,2EAA2E;YAC3E,UAAU,QAAQ,OAAO,CAAC,KAAK;QACjC;IACF;IAEA,2CAA2C;IAC3C,UAAU,QAAQ,OAAO,CAAC,KAAK;IAE/B,0CAA0C;IAC1C,MAAM,QAAQ,QAAQ,KAAK,CAAC;IAC5B,IAAI,MAAM,MAAM,GAAG,GAAG;QACpB,iGAAiG;QACjG,UAAU,KAAK,CAAC,EAAE,GAAG,MAAM,MAAM,KAAK,CAAC,GAAG,IAAI,CAAC;IACjD;IAEA,MAAM,SAAS,WAAW;IAC1B,OAAO,MAAM,UAAU,IAAI,KAAK,KAAK,CAAC,SAAS,OAAO;AACxD;AAQO,SAAS,sBAAsB,OAAY;IAChD,OAAO;QACL,GAAG,OAAO;QACV,OAAO,kBAAkB,QAAQ,KAAK;IACxC;AACF","debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/components/product-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { ShoppingCart, Plus, Minus, X } from \"lucide-react\"\r\nimport type { Product } from \"@/types\"\r\nimport { useCart } from \"@/lib/cart-context\"\r\nimport { getDb } from \"@/lib/firebase\"\r\nimport { doc, getDoc } from \"firebase/firestore\"\r\nimport { formatPriceWithCurrency } from \"@/lib/format-price\"\r\n\r\ninterface ProductCardProps {\r\n  product: Product\r\n}\r\n\r\nexport default function ProductCard({ product }: ProductCardProps) {\r\n  const [quantity, setQuantity] = useState(1)\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [categoryName, setCategoryName] = useState<string>(\"\")\r\n  const [subcategoryName, setSubcategoryName] = useState<string>(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n  const { addToCart } = useCart()\r\n\r\n  // Cargar nombres de categoría y subcategoría\r\n  useEffect(() => {\r\n    if (product.category) {\r\n      loadCategoryAndSubcategory()\r\n    }\r\n  }, [product.category, product.subcategory])\r\n\r\n  const loadCategoryAndSubcategory = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const db = getDb()\r\n\r\n      // Cargar categoría\r\n      if (product.category) {\r\n        const categoryRef = doc(db, \"categories\", product.category)\r\n        const categorySnap = await getDoc(categoryRef)\r\n        if (categorySnap.exists()) {\r\n          setCategoryName(categorySnap.data().name || product.category)\r\n        } else {\r\n          setCategoryName(product.category)\r\n        }\r\n      }\r\n\r\n      // Cargar subcategoría\r\n      if (product.subcategory) {\r\n        const subcategoryRef = doc(db, \"subcategories\", product.subcategory)\r\n        const subcategorySnap = await getDoc(subcategoryRef)\r\n        if (subcategorySnap.exists()) {\r\n          setSubcategoryName(subcategorySnap.data().name || product.subcategory)\r\n        } else {\r\n          setSubcategoryName(product.subcategory)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error cargando categoría/subcategoría:\", error)\r\n      setCategoryName(product.category)\r\n      setSubcategoryName(product.subcategory || \"\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleAddToCart = () => {\r\n    addToCart({ ...product, quantity })\r\n    setQuantity(1)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Tarjeta simplificada - Solo nombre y precio */}\r\n      <div\r\n        onClick={() => setShowModal(true)}\r\n        className=\"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer hover:border-gray-300 flex flex-col h-full\"\r\n      >\r\n        {/* Imagen del producto */}\r\n        {product.image ? (\r\n          <div className=\"w-full h-40 bg-gray-100 flex items-center justify-center flex-shrink-0\">\r\n            <img\r\n              src={product.image}\r\n              alt={product.name}\r\n              className=\"w-full h-full object-contain hover:scale-105 transition-transform p-1\"\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"w-full h-40 flex items-center justify-center text-white font-bold text-4xl flex-shrink-0\"\r\n            style={{ backgroundColor: \"var(--accent-turquoise)\" }}\r\n          >\r\n            {product.name.charAt(0)}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-3 flex-grow flex flex-col\">\r\n          {/* Nombre del producto */}\r\n          <h3 className=\"font-bold text-sm\" style={{ color: \"var(--primary-dark)\" }}>\r\n            {product.name}\r\n          </h3>\r\n\r\n          {/* Detalles Adicionales */}\r\n          {product.details && (\r\n            <div className=\"text-xs text-gray-700 mt-2 font-medium\">\r\n              {product.details}\r\n            </div>\r\n          )}\r\n\r\n          {/* Detalle (descripción) */}\r\n          <div className=\"text-xs text-gray-600 mt-2 line-clamp-2 flex-grow\">\r\n            {product.description || \"Sin descripción\"}\r\n          </div>\r\n\r\n          {/* Categoría */}\r\n          <div className=\"text-xs text-gray-600 mt-2\">\r\n            {categoryName || product.category}\r\n            {subcategoryName && ` - ${subcategoryName}`}\r\n          </div>\r\n\r\n          {/* Valor (precio) */}\r\n          <div className=\"flex items-center justify-between mt-2\">\r\n            <span className=\"text-lg font-bold\" style={{ color: \"var(--accent-green)\" }}>\r\n              {formatPriceWithCurrency(product.price)}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Stock */}\r\n          <div className=\"mt-2 pt-2 border-t border-gray-200\">\r\n            {product.stock > 0 ? (\r\n              <span className=\"text-xs font-semibold\" style={{ color: \"var(--accent-green)\" }}>\r\n                Disponible\r\n              </span>\r\n            ) : (\r\n              <span className=\"text-xs font-semibold text-red-600\">\r\n                Agotado\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal con información completa del producto */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n            {/* Header del modal */}\r\n            <div className=\"flex justify-between items-center p-6 border-b border-gray-200 sticky top-0 bg-white\">\r\n              <h2 className=\"text-2xl font-bold\" style={{ color: \"var(--primary-dark)\" }}>\r\n                Detalles del Producto\r\n              </h2>\r\n              <button\r\n                onClick={() => setShowModal(false)}\r\n                className=\"p-1 hover:bg-gray-100 rounded-lg transition-colors\"\r\n              >\r\n                <X size={24} />\r\n              </button>\r\n            </div>\r\n\r\n            {/* Contenido del modal */}\r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                {/* Imagen */}\r\n                <div className=\"flex items-center justify-center\">\r\n                  {product.image ? (\r\n                    <img\r\n                      src={product.image}\r\n                      alt={product.name}\r\n                      className=\"max-w-full h-auto rounded-lg\"\r\n                    />\r\n                  ) : (\r\n                    <div\r\n                      className=\"w-full h-64 flex items-center justify-center text-white font-bold text-4xl rounded-lg\"\r\n                      style={{ backgroundColor: \"var(--accent-turquoise)\" }}\r\n                    >\r\n                      {product.name.charAt(0)}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Información */}\r\n                <div className=\"flex flex-col gap-4\">\r\n                  <div>\r\n                    <h3 className=\"text-3xl font-bold\" style={{ color: \"var(--primary-dark)\" }}>\r\n                      {product.name}\r\n                    </h3>\r\n                  </div>\r\n\r\n                  <div className=\"border-t border-gray-200 pt-4\">\r\n                    <textarea\r\n                      value={product.description}\r\n                      readOnly\r\n                      className=\"w-full h-40 p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-opacity-50 text-gray-700 bg-gray-50\"\r\n                      style={{ borderColor: \"var(--primary)\" }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"border-t border-gray-200 pt-4\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <span className=\"text-gray-700 font-semibold\">Categoría:</span>\r\n                      <span className=\"px-3 py-1 rounded-full text-sm font-medium text-white\" style={{ backgroundColor: \"var(--primary-dark)\" }}>\r\n                        {loading ? \"Cargando...\" : categoryName || product.category}\r\n                      </span>\r\n                    </div>\r\n                    {product.subcategory && (\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"text-gray-700 font-semibold\">Subcategoría:</span>\r\n                        <span className=\"px-3 py-1 rounded-full text-sm font-medium text-white\" style={{ backgroundColor: \"var(--primary)\" }}>\r\n                          {loading ? \"Cargando...\" : subcategoryName || product.subcategory}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <span className=\"text-gray-700 font-semibold\">Precio:</span>\r\n                      <span className=\"text-3xl font-bold\" style={{ color: \"var(--accent-green)\" }}>\r\n                        {formatPriceWithCurrency(product.price)}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-gray-700 font-semibold\">Stock disponible:</span>\r\n                      <span className=\"text-lg font-bold\" style={{ color: product.stock > 0 ? \"var(--accent-green)\" : \"#ef4444\" }}>\r\n                        {product.stock > 0 ? `${product.stock} unidades` : \"Agotado\"}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Selector de cantidad y botón agregar */}\r\n                  {product.stock > 0 && (\r\n                    <div className=\"border-t border-gray-200 pt-4 space-y-4\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                          onClick={() => setQuantity(Math.max(1, quantity - 1))}\r\n                          className=\"p-2 rounded-lg border border-gray-300 hover:bg-gray-100\"\r\n                        >\r\n                          <Minus size={16} />\r\n                        </button>\r\n                        <span className=\"flex-1 text-center font-semibold\">{quantity}</span>\r\n                        <button\r\n                          onClick={() => setQuantity(Math.min(product.stock, quantity + 1))}\r\n                          className=\"p-2 rounded-lg border border-gray-300 hover:bg-gray-100\"\r\n                        >\r\n                          <Plus size={16} />\r\n                        </button>\r\n                      </div>\r\n\r\n                      <button\r\n                        onClick={() => {\r\n                          handleAddToCart()\r\n                          setShowModal(false)\r\n                        }}\r\n                        className=\"w-full py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-colors text-white hover:opacity-90\"\r\n                        style={{ backgroundColor: \"var(--accent-cyan)\" }}\r\n                      >\r\n                        <ShoppingCart size={18} />\r\n                        Agregar al carrito\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1034, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/components/hero.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useStoreSettings } from \"@/hooks/use-store-settings\"\r\n\r\nexport default function Hero() {\r\n  const [mounted, setMounted] = useState(false)\r\n  const { settings } = useStoreSettings()\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  if (!mounted) return null\r\n\r\n  return (\r\n    <section className=\"py-1 px-4 text-white\" style={{ backgroundColor: \"var(--primary-dark)\" }}>\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <h1 className=\"text-xl md:text-2xl font-bold mb-0 text-balance\">\r\n          Bienvenido a <span style={{ color: \"var(--accent-cyan)\" }}>{settings.storeName}</span>\r\n        </h1>\r\n        <p className=\"text-lg md:text-xl text-gray-100 max-w-full text-balance\">\r\n          {settings.description}\r\n        </p>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wJAAgB;IAErC,IAAA,0KAAS;0BAAC;YACR,WAAW;QACb;yBAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,6LAAC;QAAQ,WAAU;QAAuB,OAAO;YAAE,iBAAiB;QAAsB;kBACxF,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;;wBAAkD;sCACjD,6LAAC;4BAAK,OAAO;gCAAE,OAAO;4BAAqB;sCAAI,SAAS,SAAS;;;;;;;;;;;;8BAEhF,6LAAC;oBAAE,WAAU;8BACV,SAAS,WAAW;;;;;;;;;;;;;;;;;AAK/B;GAtBwB;;QAED,wJAAgB;;;KAFf","debugId":null}},
    {"offset": {"line": 1119, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/hooks/use-platform-info.ts"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\"\r\nimport { getDb } from \"@/lib/firebase\"\r\nimport { collection, getDocs, onSnapshot, query } from \"firebase/firestore\"\r\n\r\nexport interface PlatformInfo {\r\n  version: string\r\n  lastUpdate: string\r\n  supportEmail: string\r\n  description: string\r\n}\r\n\r\nconst defaultPlatformInfo: PlatformInfo = {\r\n  version: \"1.0.0\",\r\n  lastUpdate: \"Diciembre 2025\",\r\n  supportEmail: \"support@ubatech.com\",\r\n  description: \"Plataforma de compras online\",\r\n}\r\n\r\nexport function usePlatformInfo() {\r\n  const [platformInfo, setPlatformInfo] = useState<PlatformInfo>(defaultPlatformInfo)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const reload = useCallback(async () => {\r\n    try {\r\n      setError(null)\r\n      const db = getDb()\r\n      const platformSnapshot = await getDocs(collection(db, \"platform_info\"))\r\n      \r\n      if (!platformSnapshot.empty) {\r\n        const data = platformSnapshot.docs[0].data() as PlatformInfo\r\n        setPlatformInfo({\r\n          version: data.version || defaultPlatformInfo.version,\r\n          lastUpdate: data.lastUpdate || defaultPlatformInfo.lastUpdate,\r\n          supportEmail: data.supportEmail || defaultPlatformInfo.supportEmail,\r\n          description: data.description || defaultPlatformInfo.description,\r\n        })\r\n        console.log(\"[Hook Platform] ✅ Platform info cargada desde Firestore\")\r\n      } else {\r\n        console.warn(\"[Hook Platform] Colección platform_info vacía, usando valores por defecto\")\r\n        setPlatformInfo(defaultPlatformInfo)\r\n      }\r\n    } catch (error) {\r\n      console.error(\"[Hook Platform] Error cargando platform info:\", error)\r\n      setError(error instanceof Error ? error.message : \"Error desconocido\")\r\n      setPlatformInfo(defaultPlatformInfo)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    // Cargar datos iniciales\r\n    reload()\r\n\r\n    // Opcional: Intentar configurar listener en tiempo real\r\n    let unsubscribe: (() => void) | null = null\r\n    try {\r\n      const db = getDb()\r\n      const platformQuery = query(collection(db, \"platform_info\"))\r\n      \r\n      unsubscribe = onSnapshot(\r\n        platformQuery,\r\n        (snapshot) => {\r\n          if (!snapshot.empty) {\r\n            const data = snapshot.docs[0].data() as PlatformInfo\r\n            setPlatformInfo({\r\n              version: data.version || defaultPlatformInfo.version,\r\n              lastUpdate: data.lastUpdate || defaultPlatformInfo.lastUpdate,\r\n              supportEmail: data.supportEmail || defaultPlatformInfo.supportEmail,\r\n              description: data.description || defaultPlatformInfo.description,\r\n            })\r\n            console.log(\"[Hook Platform] ✅ Actualizado en tiempo real\")\r\n          }\r\n        },\r\n        (error) => {\r\n          console.warn(\"[Hook Platform] Error en listener tiempo real:\", error)\r\n          // Continuar con valores actuales\r\n        }\r\n      )\r\n    } catch (err) {\r\n      console.warn(\"[Hook Platform] No se pudo establecer listener:\", err)\r\n    }\r\n\r\n    const handleVisibilityChange = () => {\r\n      if (document.visibilityState === \"visible\") {\r\n        reload()\r\n      }\r\n    }\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange)\r\n    }\r\n\r\n    return () => {\r\n      if (unsubscribe) {\r\n        unsubscribe()\r\n      }\r\n      if (typeof window !== \"undefined\") {\r\n        document.removeEventListener(\"visibilitychange\", handleVisibilityChange)\r\n      }\r\n    }\r\n  }, [reload])\r\n\r\n  return { platformInfo, loading, error, reload }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;;AASA,MAAM,sBAAoC;IACxC,SAAS;IACT,YAAY;IACZ,cAAc;IACd,aAAa;AACf;AAEO,SAAS;;IACd,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAe;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,MAAM,SAAS,IAAA,4KAAW;+CAAC;YACzB,IAAI;gBACF,SAAS;gBACT,MAAM,KAAK,IAAA,2HAAK;gBAChB,MAAM,mBAAmB,MAAM,IAAA,iLAAO,EAAC,IAAA,oLAAU,EAAC,IAAI;gBAEtD,IAAI,CAAC,iBAAiB,KAAK,EAAE;oBAC3B,MAAM,OAAO,iBAAiB,IAAI,CAAC,EAAE,CAAC,IAAI;oBAC1C,gBAAgB;wBACd,SAAS,KAAK,OAAO,IAAI,oBAAoB,OAAO;wBACpD,YAAY,KAAK,UAAU,IAAI,oBAAoB,UAAU;wBAC7D,cAAc,KAAK,YAAY,IAAI,oBAAoB,YAAY;wBACnE,aAAa,KAAK,WAAW,IAAI,oBAAoB,WAAW;oBAClE;oBACA,QAAQ,GAAG,CAAC;gBACd,OAAO;oBACL,QAAQ,IAAI,CAAC;oBACb,gBAAgB;gBAClB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iDAAiD;gBAC/D,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBAClD,gBAAgB;YAClB,SAAU;gBACR,WAAW;YACb;QACF;8CAAG,EAAE;IAEL,IAAA,0KAAS;qCAAC;YACR,yBAAyB;YACzB;YAEA,wDAAwD;YACxD,IAAI,cAAmC;YACvC,IAAI;gBACF,MAAM,KAAK,IAAA,2HAAK;gBAChB,MAAM,gBAAgB,IAAA,+KAAK,EAAC,IAAA,oLAAU,EAAC,IAAI;gBAE3C,cAAc,IAAA,oLAAU,EACtB;iDACA,CAAC;wBACC,IAAI,CAAC,SAAS,KAAK,EAAE;4BACnB,MAAM,OAAO,SAAS,IAAI,CAAC,EAAE,CAAC,IAAI;4BAClC,gBAAgB;gCACd,SAAS,KAAK,OAAO,IAAI,oBAAoB,OAAO;gCACpD,YAAY,KAAK,UAAU,IAAI,oBAAoB,UAAU;gCAC7D,cAAc,KAAK,YAAY,IAAI,oBAAoB,YAAY;gCACnE,aAAa,KAAK,WAAW,IAAI,oBAAoB,WAAW;4BAClE;4BACA,QAAQ,GAAG,CAAC;wBACd;oBACF;;iDACA,CAAC;wBACC,QAAQ,IAAI,CAAC,kDAAkD;oBAC/D,iCAAiC;oBACnC;;YAEJ,EAAE,OAAO,KAAK;gBACZ,QAAQ,IAAI,CAAC,mDAAmD;YAClE;YAEA,MAAM;oEAAyB;oBAC7B,IAAI,SAAS,eAAe,KAAK,WAAW;wBAC1C;oBACF;gBACF;;YAEA,wCAAmC;gBACjC,SAAS,gBAAgB,CAAC,oBAAoB;YAChD;YAEA;6CAAO;oBACL,IAAI,aAAa;wBACf;oBACF;oBACA,wCAAmC;wBACjC,SAAS,mBAAmB,CAAC,oBAAoB;oBACnD;gBACF;;QACF;oCAAG;QAAC;KAAO;IAEX,OAAO;QAAE;QAAc;QAAS;QAAO;IAAO;AAChD;GAvFgB","debugId":null}},
    {"offset": {"line": 1240, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/components/footer.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useStoreSettings } from \"@/hooks/use-store-settings\"\r\nimport { usePlatformInfo } from \"@/hooks/use-platform-info\"\r\nimport Link from \"next/link\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { MessageCircle } from \"lucide-react\"\r\n\r\nexport default function Footer() {\r\n  const { settings } = useStoreSettings()\r\n  const { platformInfo } = usePlatformInfo()\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  // Montar componente\r\n  useEffect(() => {\r\n    setMounted(true)\r\n  }, [])\r\n\r\n  if (!mounted) return null\r\n\r\n  // Extraer ciudad y país de la dirección\r\n  // Si la dirección contiene coma, divide por coma; si no, usa valores por defecto\r\n  const addressParts = settings.storeAddress.includes(\",\")\r\n    ? settings.storeAddress.split(\",\").map((part) => part.trim())\r\n    : [settings.storeAddress, \"Colombia\"]\r\n  \r\n  const city = addressParts[0] || \"Bogotá\"\r\n  const country = addressParts[1] || \"Colombia\"\r\n\r\n  return (\r\n    <footer className=\"bg-gray-50 border-t border-gray-200 mt-16\">\r\n      <div className=\"max-w-7xl mx-auto px-4 py-12\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n          {/* Columna izquierda: Contacto y Ubicación */}\r\n          <div className=\"space-y-8\">\r\n            {/* Información de contacto */}\r\n            <div>\r\n              <h3 className=\"text-lg font-bold mb-4\" style={{ color: \"var(--primary-dark)\" }}>\r\n                Contacto\r\n              </h3>\r\n              <div className=\"space-y-2 text-gray-600 text-sm\">\r\n                <p>\r\n                  <strong>Teléfono:</strong>{\" \"}\r\n                  <a \r\n                    href={`tel:${settings.storePhone}`}\r\n                    className=\"text-blue-600 hover:underline hover:text-blue-800 transition-colors\"\r\n                  >\r\n                    {settings.storePhone}\r\n                  </a>\r\n                </p>\r\n                <p>\r\n                  <strong>Email:</strong>{\" \"}\r\n                  <a \r\n                    href={`mailto:${settings.storeEmail}`}\r\n                    className=\"text-blue-600 hover:underline hover:text-blue-800 transition-colors\"\r\n                  >\r\n                    {settings.storeEmail}\r\n                  </a>\r\n                </p>\r\n                <p>\r\n                  <strong>Horario:</strong> {settings.storeHours}\r\n                </p>\r\n                <div className=\"mt-3 pt-3 border-t border-gray-300\">\r\n                  <Link \r\n                    href=\"/contactenos\"\r\n                    className=\"text-blue-600 hover:underline font-medium text-sm inline-flex items-center gap-2\"\r\n                  >\r\n                    <MessageCircle size={18} />\r\n                    Chatea con nosotros\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Ubicación */}\r\n            <div>\r\n              <h3 className=\"text-lg font-bold mb-4\" style={{ color: \"var(--primary-dark)\" }}>\r\n                Ubicación\r\n              </h3>\r\n              <div className=\"space-y-2 text-gray-600 text-sm\">\r\n                <a \r\n                  href=\"https://www.google.com/maps/search/Cl.+10+%23+7-39,+Ubat%C3%A9,+Villa+de+San+Diego+de+Ubat%C3%A9,+Cundinamarca+855P%2BRP\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-blue-600 hover:underline hover:text-blue-800 transition-colors hover:cursor-pointer block\"\r\n                >\r\n                  <p>{city}</p>\r\n                  <p>{country}</p>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Información adicional - Sobre Nosotros (2 columnas) */}\r\n          <div className=\"md:col-span-2\">\r\n            <h3 className=\"text-lg font-bold mb-4 text-center\" style={{ color: \"var(--primary-dark)\" }}>\r\n              Sobre Nosotros\r\n            </h3>\r\n            <p className=\"text-gray-600 text-sm leading-relaxed\">\r\n              {platformInfo.description || \"Somos una tienda especializada en productos tecnológicos innovadores con confianza y seguridad garantizada.\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Línea divisoria */}\r\n        <div className=\"border-t border-gray-200 mt-8 pt-8\">\r\n          <p className=\"text-center text-gray-600 text-sm\">\r\n            © {new Date().getFullYear()} {settings.storeName}. Todos los derechos reservados.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,wJAAgB;IACrC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,sJAAe;IACxC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,oBAAoB;IACpB,IAAA,0KAAS;4BAAC;YACR,WAAW;QACb;2BAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,wCAAwC;IACxC,iFAAiF;IACjF,MAAM,eAAe,SAAS,YAAY,CAAC,QAAQ,CAAC,OAChD,SAAS,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,OAAS,KAAK,IAAI,MACxD;QAAC,SAAS,YAAY;QAAE;KAAW;IAEvC,MAAM,OAAO,YAAY,CAAC,EAAE,IAAI;IAChC,MAAM,UAAU,YAAY,CAAC,EAAE,IAAI;IAEnC,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;4CAAyB,OAAO;gDAAE,OAAO;4CAAsB;sDAAG;;;;;;sDAGhF,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;;sEACC,6LAAC;sEAAO;;;;;;wDAAmB;sEAC3B,6LAAC;4DACC,MAAM,CAAC,IAAI,EAAE,SAAS,UAAU,EAAE;4DAClC,WAAU;sEAET,SAAS,UAAU;;;;;;;;;;;;8DAGxB,6LAAC;;sEACC,6LAAC;sEAAO;;;;;;wDAAgB;sEACxB,6LAAC;4DACC,MAAM,CAAC,OAAO,EAAE,SAAS,UAAU,EAAE;4DACrC,WAAU;sEAET,SAAS,UAAU;;;;;;;;;;;;8DAGxB,6LAAC;;sEACC,6LAAC;sEAAO;;;;;;wDAAiB;wDAAE,SAAS,UAAU;;;;;;;8DAEhD,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC,0KAAI;wDACH,MAAK;wDACL,WAAU;;0EAEV,6LAAC,6OAAa;gEAAC,MAAM;;;;;;4DAAM;;;;;;;;;;;;;;;;;;;;;;;;8CAQnC,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;4CAAyB,OAAO;gDAAE,OAAO;4CAAsB;sDAAG;;;;;;sDAGhF,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC;gDACC,MAAK;gDACL,QAAO;gDACP,KAAI;gDACJ,WAAU;;kEAEV,6LAAC;kEAAG;;;;;;kEACJ,6LAAC;kEAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAOZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;oCAAqC,OAAO;wCAAE,OAAO;oCAAsB;8CAAG;;;;;;8CAG5F,6LAAC;oCAAE,WAAU;8CACV,aAAa,WAAW,IAAI;;;;;;;;;;;;;;;;;;8BAMnC,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAE,WAAU;;4BAAoC;4BAC5C,IAAI,OAAO,WAAW;4BAAG;4BAAE,SAAS,SAAS;4BAAC;;;;;;;;;;;;;;;;;;;;;;;AAM7D;GAzGwB;;QACD,wJAAgB;QACZ,sJAAe;;;KAFlB","debugId":null}},
    {"offset": {"line": 1550, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/lib/subcategories.ts"],"sourcesContent":["import { getDb } from \"@/lib/firebase\"\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  doc,\r\n  getDocs,\r\n  query,\r\n  where,\r\n  Firestore,\r\n} from \"firebase/firestore\"\r\nimport type { Subcategory } from \"@/types\"\r\n\r\n/**\r\n * Obtiene todas las subcategorías de una categoría específica\r\n */\r\nexport async function getSubcategoriesByCategory(categoryId: string): Promise<Subcategory[]> {\r\n  try {\r\n    // Validar que categoryId no esté vacío\r\n    if (!categoryId || !categoryId.trim?.()) {\r\n      console.warn(\"[v0] getSubcategoriesByCategory called with empty/undefined categoryId\")\r\n      return []\r\n    }\r\n\r\n    const db = getDb()\r\n    const q = query(\r\n      collection(db, \"subcategories\"),\r\n      where(\"categoryId\", \"==\", categoryId)\r\n    )\r\n    const snapshot = await getDocs(q)\r\n    return snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    })) as Subcategory[]\r\n  } catch (error) {\r\n    console.error(\"[v0] Error loading subcategories:\", error)\r\n    return []\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene todas las subcategorías\r\n */\r\nexport async function getAllSubcategories(): Promise<Subcategory[]> {\r\n  try {\r\n    const db = getDb()\r\n    const snapshot = await getDocs(collection(db, \"subcategories\"))\r\n    return snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      ...doc.data(),\r\n    })) as Subcategory[]\r\n  } catch (error) {\r\n    console.error(\"[v0] Error loading all subcategories:\", error)\r\n    return []\r\n  }\r\n}\r\n\r\n/**\r\n * Agrega una nueva subcategoría a una categoría\r\n */\r\nexport async function addSubcategory(\r\n  categoryId: string,\r\n  subcategoryName: string\r\n): Promise<string | null> {\r\n  try {\r\n    const db = getDb()\r\n    const docRef = await addDoc(collection(db, \"subcategories\"), {\r\n      name: subcategoryName,\r\n      categoryId: categoryId,\r\n      createdAt: new Date(),\r\n    })\r\n    return docRef.id\r\n  } catch (error) {\r\n    console.error(\"[v0] Error adding subcategory:\", error)\r\n    return null\r\n  }\r\n}\r\n\r\n/**\r\n * Actualiza el nombre de una subcategoría\r\n */\r\nexport async function updateSubcategory(\r\n  subcategoryId: string,\r\n  newName: string\r\n): Promise<boolean> {\r\n  try {\r\n    const db = getDb()\r\n    await updateDoc(doc(db, \"subcategories\", subcategoryId), {\r\n      name: newName,\r\n      updatedAt: new Date(),\r\n    })\r\n    return true\r\n  } catch (error) {\r\n    console.error(\"[v0] Error updating subcategory:\", error)\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * Elimina una subcategoría\r\n */\r\nexport async function deleteSubcategory(subcategoryId: string): Promise<boolean> {\r\n  try {\r\n    const db = getDb()\r\n    \r\n    // Primero verificar si hay productos con esta subcategoría\r\n    const productsQuery = query(\r\n      collection(db, \"products\"),\r\n      where(\"subcategory\", \"==\", subcategoryId)\r\n    )\r\n    const productsSnapshot = await getDocs(productsQuery)\r\n    \r\n    if (productsSnapshot.size > 0) {\r\n      throw new Error(`No se puede eliminar: contiene ${productsSnapshot.size} producto(s)`)\r\n    }\r\n    \r\n    await deleteDoc(doc(db, \"subcategories\", subcategoryId))\r\n    return true\r\n  } catch (error) {\r\n    console.error(\"[v0] Error deleting subcategory:\", error)\r\n    throw error\r\n  }\r\n}\r\n\r\n/**\r\n * Obtiene el nombre de una subcategoría por ID (usando búsqueda en memoria)\r\n * Nota: Esta función requiere que las subcategorías ya estén cargadas en la aplicación\r\n */\r\nexport async function getSubcategoryName(subcategoryId: string): Promise<string | null> {\r\n  try {\r\n    if (!subcategoryId) return null\r\n    \r\n    // Obtener todas las subcategorías\r\n    const allSubs = await getAllSubcategories()\r\n    const sub = allSubs.find((s) => s.id === subcategoryId)\r\n    \r\n    return sub ? sub.name : null\r\n  } catch (error) {\r\n    console.error(\"[v0] Error getting subcategory name:\", error)\r\n    return null\r\n  }\r\n}\r\n\r\n/**\r\n * Cuenta el número de productos con una subcategoría específica\r\n */\r\nexport async function countProductsBySubcategory(subcategoryId: string): Promise<number> {\r\n  try {\r\n    const db = getDb()\r\n    const q = query(\r\n      collection(db, \"products\"),\r\n      where(\"subcategory\", \"==\", subcategoryId)\r\n    )\r\n    const snapshot = await getDocs(q)\r\n    return snapshot.size\r\n  } catch (error) {\r\n    console.error(\"[v0] Error counting products:\", error)\r\n    return 0\r\n  }\r\n}\r\n\r\n/**\r\n * NORMA: Valida la estructura jerárquica de un producto\r\n * \r\n * Regla: Si un producto tiene una subcategoría, DEBE:\r\n * 1. La subcategoría debe existir en la colección subcategories\r\n * 2. La subcategoría debe pertenecer a la categoría especificada en el producto\r\n * 3. La categoría debe existir en la colección categories\r\n * \r\n * @param productData - Datos del producto a validar\r\n * @returns { valid: boolean, error?: string }\r\n */\r\nexport async function validateProductHierarchy(productData: {\r\n  category?: string\r\n  subcategory?: string\r\n}): Promise<{ valid: boolean; error?: string }> {\r\n  try {\r\n    const { category, subcategory } = productData\r\n\r\n    // Si no hay subcategoría, es válido\r\n    if (!subcategory) {\r\n      return { valid: true }\r\n    }\r\n\r\n    // Si hay subcategoría pero no hay categoría, es inválido\r\n    if (!category) {\r\n      return { valid: false, error: \"Se debe especificar una categoría si se selecciona una subcategoría\" }\r\n    }\r\n\r\n    const db = getDb()\r\n\r\n    // Verificar que la subcategoría existe\r\n    const subcategoryRef = doc(db, \"subcategories\", subcategory)\r\n    const subcategorySnap = await getDocs(query(collection(db, \"subcategories\"), where(\"__name__\", \"==\", subcategory)))\r\n\r\n    if (subcategorySnap.empty) {\r\n      return { valid: false, error: `La subcategoría no existe: ${subcategory}` }\r\n    }\r\n\r\n    const subcategoryData = subcategorySnap.docs[0].data()\r\n\r\n    // Verificar que la subcategoría pertenece a la categoría especificada\r\n    // Obtener el ID de la categoría\r\n    const categorySnap = await getDocs(query(collection(db, \"categories\"), where(\"name\", \"==\", category)))\r\n\r\n    if (categorySnap.empty) {\r\n      return { valid: false, error: `La categoría no existe: ${category}` }\r\n    }\r\n\r\n    const categoryId = categorySnap.docs[0].id\r\n\r\n    // Validar que el categoryId de la subcategoría coincide con la categoría del producto\r\n    if (subcategoryData.categoryId !== categoryId) {\r\n      return {\r\n        valid: false,\r\n        error: `La subcategoría \"${subcategoryData.name}\" no pertenece a la categoría \"${category}\"`,\r\n      }\r\n    }\r\n\r\n    return { valid: true }\r\n  } catch (error) {\r\n    console.error(\"[v0] Error validating product hierarchy:\", error)\r\n    return { valid: false, error: \"Error al validar la estructura jerárquica\" }\r\n  }\r\n}\r\n\r\n/**\r\n * NORMA: Obtiene todas las subcategorías de una categoría con su información completa\r\n * Incluye el nombre de la categoría para verificación\r\n * \r\n * @param categoryId - ID de la categoría\r\n * @returns Array de subcategorías con información de categoría\r\n */\r\nexport async function getSubcategoriesWithCategoryInfo(\r\n  categoryId: string\r\n): Promise<\r\n  Array<{\r\n    id: string\r\n    name: string\r\n    categoryId: string\r\n    categoryName?: string\r\n  }>\r\n> {\r\n  try {\r\n    if (!categoryId || !categoryId.trim?.()) {\r\n      return []\r\n    }\r\n\r\n    const db = getDb()\r\n\r\n    // Obtener la categoría para verificar que existe\r\n    const categoryDoc = await getDocs(query(collection(db, \"categories\"), where(\"__name__\", \"==\", categoryId)))\r\n\r\n    if (categoryDoc.empty) {\r\n      console.warn(\"[v0] Category does not exist:\", categoryId)\r\n      return []\r\n    }\r\n\r\n    const categoryName = categoryDoc.docs[0].data().name\r\n\r\n    // Obtener subcategorías\r\n    const q = query(collection(db, \"subcategories\"), where(\"categoryId\", \"==\", categoryId))\r\n    const snapshot = await getDocs(q)\r\n\r\n    return snapshot.docs.map((doc) => ({\r\n      id: doc.id,\r\n      name: doc.data().name,\r\n      categoryId: doc.data().categoryId,\r\n      categoryName: categoryName,\r\n    }))\r\n  } catch (error) {\r\n    console.error(\"[v0] Error loading subcategories with category info:\", error)\r\n    return []\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1762, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/lib/normalize-products.ts"],"sourcesContent":["import type { Product } from \"@/types\"\r\n\r\n/**\r\n * Normaliza los productos para garantizar que el campo 'category' contenga un ID válido\r\n * Los productos antiguos pueden tener el nombre de la categoría en lugar del ID\r\n * @param products Array de productos a normalizar\r\n * @param categoriesMap Mapa de ID -> nombre de categoría\r\n * @returns Array de productos normalizados\r\n */\r\nexport function normalizeProducts(\r\n  products: Product[],\r\n  categoriesMap: Map<string, string>\r\n): Product[] {\r\n  return products.map((product) => {\r\n    // Si la categoría es un ID válido en el mapa, está normalizada\r\n    if (categoriesMap.has(product.category)) {\r\n      return product\r\n    }\r\n\r\n    // Si no es un ID válido, buscar si es un nombre\r\n    for (const [id, name] of categoriesMap.entries()) {\r\n      if (name === product.category) {\r\n        // Encontramos el ID correspondiente al nombre\r\n        return {\r\n          ...product,\r\n          category: id,\r\n        }\r\n      }\r\n    }\r\n\r\n    // Si no encontramos ni ID ni nombre, devolver el producto sin cambios\r\n    // (podría ser un error o una categoría eliminada)\r\n    return product\r\n  })\r\n}\r\n"],"names":[],"mappings":";;;;AASO,SAAS,kBACd,QAAmB,EACnB,aAAkC;IAElC,OAAO,SAAS,GAAG,CAAC,CAAC;QACnB,+DAA+D;QAC/D,IAAI,cAAc,GAAG,CAAC,QAAQ,QAAQ,GAAG;YACvC,OAAO;QACT;QAEA,gDAAgD;QAChD,KAAK,MAAM,CAAC,IAAI,KAAK,IAAI,cAAc,OAAO,GAAI;YAChD,IAAI,SAAS,QAAQ,QAAQ,EAAE;gBAC7B,8CAA8C;gBAC9C,OAAO;oBACL,GAAG,OAAO;oBACV,UAAU;gBACZ;YACF;QACF;QAEA,sEAAsE;QACtE,kDAAkD;QAClD,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 1794, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/lib/public-site-status.ts"],"sourcesContent":["import { getDb } from \"@/lib/firebase\"\r\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\"\r\n\r\nconst STATUS_DOC_ID = \"public_site_status\"\r\nconst SETTINGS_COLLECTION = \"settings\"\r\n\r\nexport interface PublicSiteStatus {\r\n  isPublic: boolean\r\n  lastUpdatedAt: number\r\n  lastUpdatedBy: string\r\n}\r\n\r\n/**\r\n * Obtiene el estado actual de la página pública\r\n */\r\nexport async function getPublicSiteStatus(): Promise<PublicSiteStatus> {\r\n  try {\r\n    const db = getDb()\r\n    const docRef = doc(db, SETTINGS_COLLECTION, STATUS_DOC_ID)\r\n    const docSnap = await getDoc(docRef)\r\n\r\n    if (docSnap.exists()) {\r\n      return docSnap.data() as PublicSiteStatus\r\n    }\r\n\r\n    // Si no existe, crear con valor por defecto (pública habilitada)\r\n    const defaultStatus: PublicSiteStatus = {\r\n      isPublic: true,\r\n      lastUpdatedAt: Date.now(),\r\n      lastUpdatedBy: \"system\",\r\n    }\r\n    await setDoc(docRef, defaultStatus)\r\n    return defaultStatus\r\n  } catch (error) {\r\n    console.error(\"Error getting public site status:\", error)\r\n    // Por defecto, permitir que la página sea pública en caso de error\r\n    return {\r\n      isPublic: true,\r\n      lastUpdatedAt: Date.now(),\r\n      lastUpdatedBy: \"system\",\r\n    }\r\n  }\r\n}\r\n\r\nexport async function setPublicSiteStatus(\r\n  isPublic: boolean,\r\n  userId: string\r\n): Promise<void> {\r\n  try {\r\n    const db = getDb()\r\n    const docRef = doc(db, SETTINGS_COLLECTION, STATUS_DOC_ID)\r\n\r\n    const statusData = {\r\n      isPublic,\r\n      lastUpdatedAt: Date.now(),\r\n      lastUpdatedBy: userId,\r\n    }\r\n\r\n    // Intentar actualizar primero\r\n    try {\r\n      await updateDoc(docRef, statusData)\r\n    } catch (error: any) {\r\n      // Si el documento no existe, crearlo\r\n      if (error.code === \"not-found\") {\r\n        await setDoc(docRef, statusData)\r\n      } else {\r\n        throw error\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error setting public site status:\", error)\r\n    throw error\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAEA,MAAM,gBAAgB;AACtB,MAAM,sBAAsB;AAWrB,eAAe;IACpB,IAAI;QACF,MAAM,KAAK,IAAA,2HAAK;QAChB,MAAM,SAAS,IAAA,6KAAG,EAAC,IAAI,qBAAqB;QAC5C,MAAM,UAAU,MAAM,IAAA,gLAAM,EAAC;QAE7B,IAAI,QAAQ,MAAM,IAAI;YACpB,OAAO,QAAQ,IAAI;QACrB;QAEA,iEAAiE;QACjE,MAAM,gBAAkC;YACtC,UAAU;YACV,eAAe,KAAK,GAAG;YACvB,eAAe;QACjB;QACA,MAAM,IAAA,gLAAM,EAAC,QAAQ;QACrB,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,mEAAmE;QACnE,OAAO;YACL,UAAU;YACV,eAAe,KAAK,GAAG;YACvB,eAAe;QACjB;IACF;AACF;AAEO,eAAe,oBACpB,QAAiB,EACjB,MAAc;IAEd,IAAI;QACF,MAAM,KAAK,IAAA,2HAAK;QAChB,MAAM,SAAS,IAAA,6KAAG,EAAC,IAAI,qBAAqB;QAE5C,MAAM,aAAa;YACjB;YACA,eAAe,KAAK,GAAG;YACvB,eAAe;QACjB;QAEA,8BAA8B;QAC9B,IAAI;YACF,MAAM,IAAA,mLAAS,EAAC,QAAQ;QAC1B,EAAE,OAAO,OAAY;YACnB,qCAAqC;YACrC,IAAI,MAAM,IAAI,KAAK,aAAa;gBAC9B,MAAM,IAAA,gLAAM,EAAC,QAAQ;YACvB,OAAO;gBACL,MAAM;YACR;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qCAAqC;QACnD,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 1865, "column": 0}, "map": {"version":3,"sources":["file:///D:/ubatech/app/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport Header from \"@/components/header\"\r\nimport ProductCard from \"@/components/product-card\"\r\nimport Hero from \"@/components/hero\"\r\nimport Footer from \"@/components/footer\"\r\nimport type { Product, Subcategory } from \"@/types\"\r\nimport { getDb } from \"@/lib/firebase\"\r\nimport { collection, getDocs } from \"firebase/firestore\"\r\nimport { getSubcategoriesByCategory } from \"@/lib/subcategories\"\r\nimport { normalizeProducts } from \"@/lib/normalize-products\"\r\nimport { getPublicSiteStatus } from \"@/lib/public-site-status\"\r\nimport { normalizeProductPrice } from \"@/lib/format-price\"\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState<Product[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [category, setCategory] = useState(\"all\")\r\n  const [subcategory, setSubcategory] = useState(\"all\")\r\n  const [searchTerm, setSearchTerm] = useState<string>(\"\")\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [showHero, setShowHero] = useState(true)\r\n  const [subcategories, setSubcategories] = useState<Subcategory[]>([])\r\n  const [subcategoriesMap, setSubcategoriesMap] = useState<Map<string, Subcategory[]>>(new Map())\r\n  const [categoriesMap, setCategoriesMap] = useState<Map<string, string>>(new Map()) // categoryId -> categoryName\r\n  const [checkingStatus, setCheckingStatus] = useState(true)\r\n  const router = useRouter()\r\n\r\n  // Verificar estado de la página pública primero\r\n  useEffect(() => {\r\n    checkPublicStatus()\r\n  }, [router])\r\n\r\n  async function checkPublicStatus() {\r\n    try {\r\n      const status = await getPublicSiteStatus()\r\n      \r\n      if (!status.isPublic) {\r\n        // Redirigir a página de mantenimiento\r\n        router.push(\"/maintenance\")\r\n        return\r\n      }\r\n      \r\n      setCheckingStatus(false)\r\n      loadProducts()\r\n    } catch (error) {\r\n      console.error(\"Error checking public status:\", error)\r\n      // En caso de error, permitir que continúe normalmente\r\n      setCheckingStatus(false)\r\n      loadProducts()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      // Ocultar hero cuando se scroll más de 10px\r\n      setShowHero(window.scrollY < 10)\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", handleScroll)\r\n    return () => window.removeEventListener(\"scroll\", handleScroll)\r\n  }, [])\r\n\r\n  // Cargar subcategorías cuando cambia la categoría\r\n  useEffect(() => {\r\n    if (category === \"all\") {\r\n      setSubcategories([])\r\n      setSubcategory(\"all\")\r\n    } else {\r\n      loadSubcategoriesForCategory(category)\r\n    }\r\n  }, [category, subcategoriesMap])\r\n\r\n  async function loadProducts() {\r\n    try {\r\n      setLoading(true)\r\n      setError(null)\r\n      const db = getDb()\r\n      \r\n      // Cargar productos\r\n      const productsSnapshot = await getDocs(collection(db, \"products\"))\r\n      const productsData = productsSnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      })) as Product[]\r\n\r\n      // Normalizar precios para asegurar que sean números, no strings\r\n      const productsWithNormalizedPrices = productsData.map(normalizeProductPrice)\r\n\r\n      // Cargar todas las categorías y sus subcategorías\r\n      const categoriesSnapshot = await getDocs(collection(db, \"categories\"))\r\n      const subMap = new Map<string, Subcategory[]>()\r\n      const catMap = new Map<string, string>()\r\n      \r\n      for (const catDoc of categoriesSnapshot.docs) {\r\n        const categoryId = catDoc.id\r\n        const categoryName = catDoc.data().name\r\n        catMap.set(categoryId, categoryName)\r\n        const subs = await getSubcategoriesByCategory(categoryId)\r\n        subMap.set(categoryId, subs)\r\n      }\r\n      \r\n      // Normalizar productos para asegurar que tengan IDs de categoría válidos\r\n      const normalizedProducts = normalizeProducts(productsWithNormalizedPrices, catMap)\r\n      \r\n      setProducts(normalizedProducts)\r\n      setSubcategoriesMap(subMap)\r\n      setCategoriesMap(catMap)\r\n    } catch (error) {\r\n      console.error(\"[v0] Error loading products:\", error)\r\n      setError(\"Error al cargar productos. Por favor, verifica tu conexión a Firebase.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  async function loadSubcategoriesForCategory(categoryId: string) {\r\n    try {\r\n      const subs = subcategoriesMap.get(categoryId) || []\r\n      setSubcategories(subs)\r\n      setSubcategory(\"all\")\r\n    } catch (error) {\r\n      console.error(\"[v0] Error loading subcategories:\", error)\r\n      setSubcategories([])\r\n    }\r\n  }\r\n\r\n  // Filtrar productos por categoría, subcategoría y búsqueda\r\n  let filteredProducts = products\r\n  \r\n  if (category !== \"all\") {\r\n    filteredProducts = filteredProducts.filter((p) => p.category === category)\r\n  }\r\n\r\n  if (subcategory !== \"all\") {\r\n    filteredProducts = filteredProducts.filter((p) => p.subcategory === subcategory)\r\n  }\r\n\r\n  // Filtrar por búsqueda\r\n  if (searchTerm !== \"\") {\r\n    filteredProducts = filteredProducts.filter((p) =>\r\n      p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      p.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      p.sku?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      categoriesMap.get(p.category)?.toLowerCase().includes(searchTerm.toLowerCase())\r\n    )\r\n  }\r\n\r\n  // Crear lista de categorías con sus IDs que tengan productos\r\n  const categories = Array.from(categoriesMap.entries())\r\n    .map(([id, name]) => ({ id, name }))\r\n    .filter(cat => {\r\n      // Verificar si hay algún producto con esta categoría (por ID)\r\n      return products.some(p => p.category === cat.id)\r\n    })\r\n\r\n  const getSubcategoryName = (subcategoryId: string | undefined): string => {\r\n    if (!subcategoryId) return \"-\"\r\n    for (const subcats of subcategoriesMap.values()) {\r\n      const sub = subcats.find((s) => s.id === subcategoryId)\r\n      if (sub) return sub.name\r\n    }\r\n    return \"-\"\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Si está verificando el estado, mostrar loader */}\r\n      {checkingStatus ? (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-white\">\r\n          <div className=\"text-center\">\r\n            <div className=\"w-8 h-8 border-4 border-gray-300 border-t-transparent rounded-full animate-spin mx-auto mb-4\" />\r\n            <p className=\"text-gray-600\">Cargando tienda...</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Header />\r\n          \r\n          {/* Hero que se oculta al hacer scroll */}\r\n          {showHero && <Hero />}\r\n\r\n          {/* Categorías siempre visible (sticky) */}\r\n          <div className=\"sticky top-0 z-40 bg-white border-b border-gray-200\">\r\n            <div className=\"max-w-7xl mx-auto px-4 py-4\">\r\n              <div className=\"flex items-center justify-between gap-4 mb-4\">\r\n                <h2 className=\"text-3xl font-bold\" style={{ color: \"var(--primary)\" }}>\r\n                  Nuestros Productos\r\n                </h2>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Buscar productos...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"px-4 py-2 bg-white text-black border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-300 placeholder-gray-500\"\r\n                />\r\n              </div>\r\n\r\n              {/* Filtro de categorías */}\r\n              <div className=\"mb-3\">\r\n                <p className=\"text-sm font-medium text-gray-600 mb-2\">Categorías</p>\r\n                <div className=\"flex gap-2 overflow-x-auto pb-2\">\r\n                  <button\r\n                    onClick={() => setCategory(\"all\")}\r\n                    className={`px-4 py-2 rounded-full whitespace-nowrap font-medium transition-all ${\r\n                      category === \"all\" ? \"text-white shadow-lg\" : \"bg-gray-200 hover:bg-gray-300\"\r\n                    }`}\r\n                    style={category === \"all\" ? { backgroundColor: \"var(--primary)\" } : {}}\r\n                  >\r\n                    Todas\r\n                  </button>\r\n                  {categories.map((cat) => (\r\n                    <button\r\n                      key={cat.id}\r\n                      onClick={() => setCategory(cat.id)}\r\n                      className={`px-4 py-2 rounded-full whitespace-nowrap font-medium transition-all ${\r\n                        category === cat.id ? \"text-white shadow-lg\" : \"bg-gray-200 hover:bg-gray-300\"\r\n                      }`}\r\n                      style={category === cat.id ? { backgroundColor: \"var(--primary)\" } : {}}\r\n                    >\r\n                      {cat.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-col lg:flex-row gap-0\">\r\n            {/* Sidebar izquierdo con marcas/subcategorías */}\r\n            {subcategories.length > 0 && (\r\n          <aside className=\"lg:w-56 bg-gradient-to-b from-gray-50 to-gray-100 border-b lg:border-b-0 lg:border-r border-gray-200 p-4 sticky top-[104px] z-30 max-h-[calc(100vh-104px)] overflow-y-auto\">\r\n            <div className=\"mb-4\">\r\n              <h3 className=\"text-sm font-bold uppercase tracking-wide mb-4\" style={{ color: \"var(--primary-dark)\" }}>\r\n                Filtrar por marca\r\n              </h3>\r\n              <nav className=\"space-y-1\">\r\n                <button\r\n                  onClick={() => setSubcategory(\"all\")}\r\n                  className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all ${\r\n                    subcategory === \"all\" \r\n                      ? \"text-white shadow-md\" \r\n                      : \"text-gray-700 hover:bg-gray-200\"\r\n                  }`}\r\n                  style={subcategory === \"all\" ? { backgroundColor: \"var(--accent-turquoise)\" } : {}}\r\n                >\r\n                  Ver todas\r\n                </button>\r\n                {subcategories.map((sub) => (\r\n                  <button\r\n                    key={sub.id}\r\n                    onClick={() => setSubcategory(sub.id)}\r\n                    className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all ${\r\n                      subcategory === sub.id \r\n                        ? \"text-white shadow-md\" \r\n                        : \"text-gray-700 hover:bg-gray-200\"\r\n                    }`}\r\n                    style={subcategory === sub.id ? { backgroundColor: \"var(--accent-turquoise)\" } : {}}\r\n                  >\r\n                    {sub.name}\r\n                  </button>\r\n                ))}\r\n              </nav>\r\n            </div>\r\n          </aside>\r\n        )}\r\n\r\n        {/* Contenido principal */}\r\n        <main className={`flex-1 px-4 py-12 ${subcategories.length > 0 ? '' : 'lg:max-w-7xl lg:mx-auto'}`}>\r\n          {error && <div className=\"mb-8 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">{error}</div>}\r\n\r\n          {loading ? (\r\n            <div className=\"flex justify-center py-12\">\r\n              <div\r\n                className=\"w-8 h-8 border-4 border-gray-300 border-t-transparent rounded-full animate-spin\"\r\n                style={{ borderTopColor: \"var(--primary)\" }}\r\n              />\r\n            </div>\r\n          ) : filteredProducts.length > 0 ? (\r\n            (() => {\r\n              // Agrupar productos por categoría\r\n              const groupedByCategory = new Map<string, Product[]>()\r\n              \r\n              filteredProducts.forEach((product) => {\r\n                const categoryName = categoriesMap.get(product.category) || \"Sin categoría\"\r\n                if (!groupedByCategory.has(categoryName)) {\r\n                  groupedByCategory.set(categoryName, [])\r\n                }\r\n                groupedByCategory.get(categoryName)!.push(product)\r\n              })\r\n\r\n              // Convertir a array ordenado y ordenar productos por precio dentro de cada categoría\r\n              const categorySections = Array.from(groupedByCategory.entries())\r\n                .sort((a, b) => a[0].localeCompare(b[0]))\r\n                .map(([categoryName, products]) => [\r\n                  categoryName,\r\n                  [...products].sort((a, b) => (a.price || 0) - (b.price || 0))\r\n                ]) as [string, Product[]][]\r\n\r\n              return (\r\n                <div className=\"space-y-8\">\r\n                  {categorySections.map(([categoryName, categoryProducts], index) => (\r\n                    <div key={categoryName}>\r\n                      {/* Encabezado de categoría */}\r\n                      <h3 \r\n                        className=\"text-xl font-bold mb-4 pb-2\" \r\n                        style={{ color: \"var(--primary)\" }}\r\n                      >\r\n                        {categoryName}\r\n                      </h3>\r\n\r\n                      {/* Grid de productos */}\r\n                      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8\">\r\n                        {categoryProducts.map((product) => (\r\n                          <ProductCard key={product.id} product={product} />\r\n                        ))}\r\n                      </div>\r\n\r\n                      {/* Separador de categoría (no mostrar en la última) */}\r\n                      {index < categorySections.length - 1 && (\r\n                        <div className=\"my-8 border-t-2\" style={{ borderColor: \"#d4d4d4\" }} />\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )\r\n            })()\r\n          ) : (\r\n            <p className=\"col-span-full text-center text-gray-500 py-12\">No hay productos en esta categoría</p>\r\n          )}\r\n        </main>\r\n      </div>\r\n\r\n      <Footer />\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}